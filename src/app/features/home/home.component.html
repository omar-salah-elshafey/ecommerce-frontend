<!-- Hero Section -->
<section class="hero" @fadeIn>
  <div class="hero-content">
    <h1>مرحبًا بكم في متجرنا الإلكتروني</h1>
    <p>اكتشف أحدث المنتجات بأسعار مميزة</p>
    <button mat-raised-button color="primary" routerLink="/store">
      تصفح المنتجات
    </button>
  </div>
</section>
<div class="main-container">
  <!-- Featured Products Slider -->
  <section class="slider-container">
    <h2 class="section-title">منتجات مميزة</h2>
    <div
      #featuredSwiper
      class="swiper"
      *ngIf="featuredProducts$ | async as products; else loading"
      aria-label="منتجات مميزة"
    >
      <div class="swiper-wrapper">
        <div class="swiper-slide" *ngFor="let product of products">
          <mat-card
            class="product-card"
            [routerLink]="['/store', product.id]"
          >
            <img
              [src]="product.mainImageUrl"
              [alt]="product.name"
              class="product-image"
              loading="lazy"
            />
            <mat-card-content>
              <h3 class="product-name">{{ product.name }}</h3>
              <p class="product-price">
                {{ product.price | currency : "EGP " }}
              </p>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
    <ng-template #loading>
      <div class="loading-overlay">
        <mat-spinner diameter="40"></mat-spinner>
      </div>
    </ng-template>
    <div *ngIf="(featuredProducts$ | async)?.length === 0" class="empty-state">
      <mat-icon class="empty-icon">search_off</mat-icon>
      <p class="empty-text">لا توجد منتجات مميزة متاحة</p>
    </div>
  </section>

  <!-- Best Sellers Slider -->
  <section class="slider-container">
    <h2 class="section-title">الأكثر مبيعًا</h2>
    <div
      #bestSellersSwiper
      class="swiper"
      *ngIf="bestSellers$ | async as products; else loading"
      aria-label="المنتجات الأكثر مبيعًا"
    >
      <div class="swiper-wrapper">
        <div class="swiper-slide" *ngFor="let product of products">
          <mat-card
            class="product-card"
            [routerLink]="['/store', product.id]"
          >
            <img
              [src]="product.mainImageUrl"
              [alt]="product.name"
              class="product-image"
              loading="lazy"
            />
            <mat-card-content>
              <h3 class="product-name">{{ product.name }}</h3>
              <p class="product-price">
                {{ product.price | currency : "EGP " }}
              </p>
              <p class="sales-count">تم بيع {{ product.salesCount }} وحدة</p>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
    <ng-template #loading>
      <div class="loading-overlay">
        <mat-spinner diameter="40"></mat-spinner>
      </div>
    </ng-template>
    <div *ngIf="(bestSellers$ | async)?.length === 0" class="empty-state">
      <mat-icon class="empty-icon">search_off</mat-icon>
      <p class="empty-text">لا توجد منتجات أكثر مبيعًا متاحة</p>
    </div>
  </section>

  <!-- Newsletter Section -->
  <!-- <section class="newsletter">
    <div class="newsletter-content">
      <h2>اشترك في نشرتنا الإخبارية</h2>
      <p>احصل على آخر العروض والتحديثات مباشرة إلى بريدك</p>
      <div class="newsletter-form">
        <input
          type="email"
          placeholder="ادخل بريدك الإلكتروني"
          [(ngModel)]="email"
        />
        <button
          (click)="newsLetterSubscribe(email)"
          mat-raised-button
          color="primary"
        >
          اشتراك
        </button>
      </div>
    </div>
  </section> -->

  <!-- Call-to-Action -->
  <section class="cta">
    <div class="cta-content" @fadeIn>
      <h2>هل أنت مستعد للتسوق؟</h2>
      <p>أنشئ حسابك الآن واحصل على تخفيضات حصرية.</p>
      <button mat-raised-button color="primary" routerLink="/register">
        أنشئ حسابك
      </button>
    </div>
  </section>
</div>
