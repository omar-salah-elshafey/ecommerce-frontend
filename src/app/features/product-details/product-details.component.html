<div class="product-details">
  <button mat-raised-button routerLink="/products" class="back-button">
    <mat-icon>arrow_back</mat-icon>
    العودة إلى المنتجات
  </button>

  <ng-container *ngIf="product$ | async as product; else loading">
    <mat-card>
      <img
        *ngIf="product.image"
        mat-card-image
        [src]="product.image"
        [alt]="product.name"
      />
      <mat-card-header>
        <mat-card-title>
          <p>{{product.name}}</p>
          <p class="price">{{ product.price | currency : "EGP " }}</p>
          <p class="stock">المتبقي: {{ product.stock }}</p>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>{{ product.description }} </mat-card-content>
    </mat-card>
  </ng-container>

  <ng-template #loading>
    <div class="loading-spinner">
      <mat-spinner diameter="50"></mat-spinner>
    </div>
  </ng-template>
</div>
